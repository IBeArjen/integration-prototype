#!/usr/bin/python3

import os
import signal
import sys

sys.path.append(os.path.join(os.path.dirname(__file__),'..', '..', 'common'))
sys.path.append(os.path.join(os.path.dirname(__file__),'..'))

from sip_slave.main import main

def _sig_handler(signum, frame):
    sys.exit(0)

if __name__ == '__main__':
    name = sys.argv[1]
    heartbeat_port = int(sys.argv[2])
    server_port = int(sys.argv[3])

    # Install handler to respond to SIGTERM
    signal.signal(signal.SIGTERM, _sig_handler)

    # Call main program
    main(name, heartbeat_port, server_port)
